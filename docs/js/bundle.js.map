{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/ts/Cursor.ts","src/ts/main.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Cursor","prototype","startBlinking","_this","this","blinkerInterval","setInterval","setTimeout","hide","show","blinkTime","stopBlinking","clearInterval","hasMovedHook","id","element","classList","add","remove","document","getElementById","Cursor_1","$","scroll","scrollTop","window","height","getDistance","anchor","Math","abs","offset","top","anchors","find","nearestAnchor","get","reduce","otherAnchor","forEach","attr","addClass","removeClass","_a","textId","cursorId","_b","text","_c","repetitionNumber","charPause","from","to","enterPause","removePause","getRandomWaitTime","interval","random","Infinity","Promise","resolver","__awaiter","remainingChars","split","cursor","enterText","enterChar","splice","sent","bind","char","innerText","removeText","removeChar","reverse","waitTime","push","substring","then","animate"],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export class Cursor {\r\n    private element: HTMLElement\r\n    private blinkTime: number = 1000\r\n    private blinkerInterval\r\n\r\n    constructor(id: string) {\r\n        this.element = document.getElementById(id)\r\n        this.startBlinking()\r\n    }\r\n\r\n    private hide = (): void => {\r\n        this.element.classList.add(\"invisible\")\r\n        this.element.classList.remove(\"visible\")\r\n\r\n    }\r\n    private show = (): void => {\r\n        this.element.classList.add(\"visible\")\r\n        this.element.classList.remove(\"invisible\")\r\n    }\r\n\r\n    private startBlinking(): void {\r\n        this.blinkerInterval = setInterval(() => {\r\n            setTimeout(this.hide, 0)\r\n            setTimeout(this.show, this.blinkTime * 0.4)\r\n        }, this.blinkTime)\r\n\r\n        this.show()\r\n    }\r\n\r\n    private stopBlinking(): void {\r\n        clearInterval(this.blinkerInterval)\r\n    }\r\n\r\n    hasMovedHook(): void {\r\n        this.stopBlinking()\r\n        this.startBlinking()\r\n    }\r\n}","import { Cursor } from \"./Cursor\"\r\nimport { Interval } from \"./Interval\"\r\n\r\n$('.viewport').scroll(() => {\r\n    let scrollTop = $(document).scrollTop() + $(window).height() / 2;\r\n    scrollTop *= 0.9\r\n    let anchors = $('body').find('section');\r\n\r\n    let getPosition = (anchor: HTMLElement) => $(anchor).offset().top + $(anchor).height() / 2\r\n    let getDistance = (anchor: HTMLElement) => Math.abs(scrollTop - getPosition(anchor))\r\n\r\n    let nearestAnchor = anchors.get()\r\n        .reduce((nearestAnchor = anchors[1], otherAnchor) => (getDistance(nearestAnchor) < getDistance(otherAnchor) ? nearestAnchor : otherAnchor))\r\n\r\n    anchors.get().forEach(anchor => {\r\n        if (anchor == nearestAnchor) {\r\n            $('nav div div a[href=\"#' + $(anchor).attr('id') + '\"]').addClass('active');\r\n        } else {\r\n            $('nav div div a[href=\"#' + $(anchor).attr('id') + '\"]').removeClass('active');\r\n        }\r\n    })\r\n\r\n});\r\n\r\n\r\nlet charPause: Interval = { from: 50, to: 150 }\r\nlet enterPause: Interval = { from: 200, to: 200 }\r\nlet removePause: Interval = { from: 1000, to: 4000 }\r\n\r\nconst startTyping = ({ textId, cursorId, text = \"\", repetitionNumber = Infinity }: { textId: string; cursorId: string; text?: string; repetitionNumber?: number; }): Promise<void> => {\r\n    return new Promise(async resolver => {\r\n        let element = document.getElementById(textId);\r\n        let remainingChars = text.split('')\r\n\r\n        let cursor = new Cursor(cursorId)\r\n\r\n        let enterText = (): Promise<void> => {\r\n            return new Promise(async (resolver) => {\r\n                while (remainingChars.length) {\r\n                    await enterChar(remainingChars.splice(0, 1)[0])\r\n                }\r\n                setTimeout(resolver.bind(this), getRandomWaitTime(enterPause))\r\n            });\r\n\r\n        }\r\n\r\n        let enterChar = (char: string): Promise<void> => {\r\n            return new Promise(resolver => {\r\n                element.innerText += char\r\n                setTimeout(resolver.bind(this), getRandomWaitTime(charPause))\r\n\r\n                cursor.hasMovedHook()\r\n            });\r\n        }\r\n\r\n        let removeText = (): Promise<void> => {\r\n            return new Promise(async (resolver) => {\r\n                if (element.innerText.length) {\r\n                    await removeChar(400)\r\n                }\r\n                while (element.innerText.length) {\r\n                    await removeChar(40)\r\n                }\r\n                remainingChars.reverse()\r\n                setTimeout(resolver.bind(this), getRandomWaitTime(removePause))\r\n            });\r\n\r\n        }\r\n\r\n        let removeChar = (waitTime = getRandomWaitTime(charPause)): Promise<void> => {\r\n            return new Promise(resolver => {\r\n                let innerText = element.innerText\r\n                let length = innerText.length\r\n\r\n                remainingChars.push(innerText.substring(length - 1, length))\r\n                element.innerText = element.innerText.substring(0, length - 1)\r\n                setTimeout(resolver.bind(this), waitTime)\r\n\r\n                cursor.hasMovedHook()\r\n            });\r\n        }\r\n\r\n        await enterText()\r\n        while (repetitionNumber--) {\r\n            await removeText()\r\n            await enterText()\r\n        }\r\n\r\n        resolver();\r\n    })\r\n}\r\n\r\nlet getRandomWaitTime = (interval: Interval): number => {\r\n    return Math.random() * (interval.to - interval.from) + interval.from;\r\n}\r\n\r\n$(startTyping({ textId: \"dev_text\", cursorId: \"dev_cursor\", text: \"I'm Benedek.\", repetitionNumber: 0 })\r\n    .then(() => {\r\n        $('#overlay').animate({\r\n            height: '0%'\r\n        }, 800)\r\n    }))\r\n\r\n"]}