{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/ts/Cursor.ts","src/ts/main.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Cursor","prototype","startBlinking","_this","this","blinkerInterval","setInterval","setTimeout","hide","show","blinkTime","stopBlinking","clearInterval","hasMovedHook","id","element","classList","add","remove","document","getElementById","Cursor_1","$","scroll","scrollTop","window","height","getDistance","anchor","Math","abs","offset","top","anchors","find","nearestAnchor","get","reduce","otherAnchor","forEach","attr","addClass","removeClass","_a","textId","cursorId","_b","text","_c","repetitionNumber","charPause","from","to","enterPause","removePause","getRandomWaitTime","interval","random","Infinity","Promise","resolver","__awaiter","remainingChars","split","cursor","enterText","enterChar","splice","sent","bind","char","innerText","removeText","removeChar","reverse","waitTime","push","substring","then","animate"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,gB,iECAA,IAAAK,GAoBYA,EAAAC,UAAAC,cAAR,WAAA,IAAAC,EAAAC,KACIA,KAAKC,gBAAkBC,YAAY,WAC/BC,WAAWJ,EAAKK,KAAM,GACtBD,WAAWJ,EAAKM,KAAuB,GAAjBN,EAAKO,YAC5BN,KAAKM,WAERN,KAAKK,QAGDT,EAAAC,UAAAU,aAAR,WACIC,cAAcR,KAAKC,kBAGvBL,EAAAC,UAAAY,aAAA,WACIT,KAAKO,eACLP,KAAKF,iBAEbF,GAhCI,SAAAA,EAAYc,GAAZ,IAAAX,EAAAC,KAHQA,KAAAM,UAAoB,IAQpBN,KAAAI,KAAO,WACXL,EAAKY,QAAQC,UAAUC,IAAI,aAC3Bd,EAAKY,QAAQC,UAAUE,OAAO,YAG1Bd,KAAAK,KAAO,WACXN,EAAKY,QAAQC,UAAUC,IAAI,WAC3Bd,EAAKY,QAAQC,UAAUE,OAAO,cAX9Bd,KAAKW,QAAUI,SAASC,eAAeN,GACvCV,KAAKF,gBAPAP,EAAAK,OAAAA,G,45CCAb,IAAAqB,EAAAhC,EAAA,YAGAiC,EAAE,aAAaC,OAAO,WAClB,IAAIC,EAAYF,EAAEH,UAAUK,YAAcF,EAAEG,QAAQC,SAAW,EAC/DF,GAAa,GAIK,SAAdG,EAAeC,GAAwB,OAAAC,KAAKC,IAAIN,GADjCI,EACwBA,EADAN,EAAEM,GAAQG,SAASC,IAAMV,EAAEM,GAAQF,SAAnC,IAAzB,IAACE,EAFnB,IAAIK,EAAUX,EAAE,QAAQY,KAAK,WAKzBC,EAAgBF,EAAQG,MACvBC,OAAO,SAACF,EAA4BG,GAAgB,YAA5C,IAAAH,IAAAA,EAAgBF,EAAQ,IAAqBN,EAAYQ,GAAiBR,EAAYW,GAAeH,EAAgBG,IAElIL,EAAQG,MAAMG,QAAQ,SAAAX,GACdA,GAAUO,EACVb,EAAE,wBAA0BA,EAAEM,GAAQY,KAAK,MAAQ,MAAMC,SAAS,UAElEnB,EAAE,wBAA0BA,EAAEM,GAAQY,KAAK,MAAQ,MAAME,YAAY,cAOjF,IAIqBC,EAAEC,EAAQC,EAAUC,EAAAC,EAAWC,EAAAC,EAJhDC,EAAsB,CAAEC,KAAM,GAAIC,GAAI,KACtCC,EAAuB,CAAEF,KAAM,IAAKC,GAAI,KACxCE,EAAwB,CAAEH,KAAM,IAAMC,GAAI,KAiE1CG,EAAoB,SAACC,GACrB,OAAO3B,KAAK4B,UAAYD,EAASJ,GAAKI,EAASL,MAAQK,EAASL,MAGpE7B,GAnEuBsB,GAAFD,EAmEP,CAAEC,OAAQ,WAAYC,SAAU,aAAcE,KAAM,eAAgBE,iBAAkB,IAnEvEL,OAAEC,EAAQF,EAAAE,SAAEC,EAAAH,EAAAI,KAAAA,OAAI,IAAAD,EAAG,GAAEA,EAAEE,EAAAL,EAAAM,iBAAAA,OAAgB,IAAAD,EAAGU,EAAAA,EAAQV,EACpE,IAAIW,QAAQ,SAAMC,GAAQ,OAAAC,OAAA,OAAA,OAAA,EAAA,W,0EAoD7B,OAnDI9C,EAAUI,SAASC,eAAewB,GAClCkB,EAAiBf,EAAKgB,MAAM,IAE5BC,EAAS,IAAI3C,EAAArB,OAAO6C,GAEpBoB,EAAY,WACZ,OAAO,IAAIN,QAAQ,SAAOC,GAAQ,OAAAC,OAAA,OAAA,OAAA,EAAA,W,wDACvBC,EAAejE,OAClB,CAAA,EAAMqE,EAAUJ,EAAeK,OAAO,EAAG,GAAG,KADpB,CAAA,EAAA,G,cACxBxB,EAAAyB,O,oBAEJ7D,WAAWqD,EAASS,KAAKjE,MAAOmD,EAAkBF,I,YAKtDa,EAAY,SAACI,GACb,OAAO,IAAIX,QAAQ,SAAAC,GACf7C,EAAQwD,WAAaD,EACrB/D,WAAWqD,EAASS,KAAKlE,GAAOoD,EAAkBL,IAElDc,EAAOnD,kBAIX2D,EAAa,WACb,OAAO,IAAIb,QAAQ,SAAOC,GAAQ,OAAAC,OAAA,OAAA,OAAA,EAAA,W,wDAC1B9C,EAAQwD,UAAU1E,OAClB,CAAA,EAAM4E,EAAW,MADjB,CAAA,EAAA,G,OACA9B,EAAAyB,O,wBAEGrD,EAAQwD,UAAU1E,OACrB,CAAA,EAAM4E,EAAW,KADU,CAAA,EAAA,G,cAC3B9B,EAAAyB,O,oBAEJN,EAAeY,UACfnE,WAAWqD,EAASS,KAAKjE,MAAOmD,EAAkBD,I,YAKtDmB,EAAa,SAACE,GACd,YADc,IAAAA,IAAAA,EAAWpB,EAAkBL,IACpC,IAAIS,QAAQ,SAAAC,GACf,IAAIW,EAAYxD,EAAQwD,UACpB1E,EAAS0E,EAAU1E,OAEvBiE,EAAec,KAAKL,EAAUM,UAAUhF,EAAS,EAAGA,IACpDkB,EAAQwD,UAAYxD,EAAQwD,UAAUM,UAAU,EAAGhF,EAAS,GAC5DU,WAAWqD,EAASS,KAAKlE,GAAOwE,GAEhCX,EAAOnD,kBAIf,CAAA,EAAMoD,K,OAANtB,EAAAyB,O,wBACOnB,IACH,CAAA,EAAMuB,KADe,CAAA,EAAA,G,OAErB,OADA7B,EAAAyB,OACA,CAAA,EAAMH,K,cAANtB,EAAAyB,O,oBAGJR,I,WASHkB,KAAK,WACFxD,EAAE,YAAYyD,QAAQ,CAClBrD,OAAQ,MACT","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export class Cursor {\n    private element: HTMLElement\n    private blinkTime: number = 1000\n    private blinkerInterval\n\n    constructor(id: string) {\n        this.element = document.getElementById(id)\n        this.startBlinking()\n    }\n\n    private hide = (): void => {\n        this.element.classList.add(\"invisible\")\n        this.element.classList.remove(\"visible\")\n\n    }\n    private show = (): void => {\n        this.element.classList.add(\"visible\")\n        this.element.classList.remove(\"invisible\")\n    }\n\n    private startBlinking(): void {\n        this.blinkerInterval = setInterval(() => {\n            setTimeout(this.hide, 0)\n            setTimeout(this.show, this.blinkTime * 0.4)\n        }, this.blinkTime)\n\n        this.show()\n    }\n\n    private stopBlinking(): void {\n        clearInterval(this.blinkerInterval)\n    }\n\n    hasMovedHook(): void {\n        this.stopBlinking()\n        this.startBlinking()\n    }\n}","import { Cursor } from \"./Cursor\"\nimport { Interval } from \"./Interval\"\n\n$('.viewport').scroll(() => {\n    let scrollTop = $(document).scrollTop() + $(window).height() / 2;\n    scrollTop *= 0.9\n    let anchors = $('body').find('section');\n\n    let getPosition = (anchor: HTMLElement) => $(anchor).offset().top + $(anchor).height() / 2\n    let getDistance = (anchor: HTMLElement) => Math.abs(scrollTop - getPosition(anchor))\n\n    let nearestAnchor = anchors.get()\n        .reduce((nearestAnchor = anchors[1], otherAnchor) => (getDistance(nearestAnchor) < getDistance(otherAnchor) ? nearestAnchor : otherAnchor))\n\n    anchors.get().forEach(anchor => {\n        if (anchor == nearestAnchor) {\n            $('nav div div a[href=\"#' + $(anchor).attr('id') + '\"]').addClass('active');\n        } else {\n            $('nav div div a[href=\"#' + $(anchor).attr('id') + '\"]').removeClass('active');\n        }\n    })\n\n});\n\n\nlet charPause: Interval = { from: 50, to: 150 }\nlet enterPause: Interval = { from: 200, to: 200 }\nlet removePause: Interval = { from: 1000, to: 4000 }\n\nconst startTyping = ({ textId, cursorId, text = \"\", repetitionNumber = Infinity }: { textId: string; cursorId: string; text?: string; repetitionNumber?: number; }): Promise<void> => {\n    return new Promise(async resolver => {\n        let element = document.getElementById(textId);\n        let remainingChars = text.split('')\n\n        let cursor = new Cursor(cursorId)\n\n        let enterText = (): Promise<void> => {\n            return new Promise(async (resolver) => {\n                while (remainingChars.length) {\n                    await enterChar(remainingChars.splice(0, 1)[0])\n                }\n                setTimeout(resolver.bind(this), getRandomWaitTime(enterPause))\n            });\n\n        }\n\n        let enterChar = (char: string): Promise<void> => {\n            return new Promise(resolver => {\n                element.innerText += char\n                setTimeout(resolver.bind(this), getRandomWaitTime(charPause))\n\n                cursor.hasMovedHook()\n            });\n        }\n\n        let removeText = (): Promise<void> => {\n            return new Promise(async (resolver) => {\n                if (element.innerText.length) {\n                    await removeChar(400)\n                }\n                while (element.innerText.length) {\n                    await removeChar(40)\n                }\n                remainingChars.reverse()\n                setTimeout(resolver.bind(this), getRandomWaitTime(removePause))\n            });\n\n        }\n\n        let removeChar = (waitTime = getRandomWaitTime(charPause)): Promise<void> => {\n            return new Promise(resolver => {\n                let innerText = element.innerText\n                let length = innerText.length\n\n                remainingChars.push(innerText.substring(length - 1, length))\n                element.innerText = element.innerText.substring(0, length - 1)\n                setTimeout(resolver.bind(this), waitTime)\n\n                cursor.hasMovedHook()\n            });\n        }\n\n        await enterText()\n        while (repetitionNumber--) {\n            await removeText()\n            await enterText()\n        }\n\n        resolver();\n    })\n}\n\nlet getRandomWaitTime = (interval: Interval): number => {\n    return Math.random() * (interval.to - interval.from) + interval.from;\n}\n\n$(startTyping({ textId: \"dev_text\", cursorId: \"dev_cursor\", text: \"I'm Benedek.\", repetitionNumber: 0 })\n    .then(() => {\n        $('#overlay').animate({\n            height: '0%'\n        }, 800)\n    }))\n\n"]}